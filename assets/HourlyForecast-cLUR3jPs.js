import{f as N,j as e,a as w,b as H,d as k}from"./index-XYXzgunz.js";import{r as x}from"./vendor-react-BWFb42Va.js";import{b as L,c as B,d as V,e as X,W as z,f as W,D as Y,g as q,G as O}from"./vendor-icons-CgeC0w1u.js";import{R as J,A as Q,C as Z,X as _,Y as ee,T as se,a as te,b as ae}from"./vendor-charts-Bk7PKzf7.js";function ge({bundle:a,hourlyFilter:m,onHourlyFilterChange:ie,unit:f,temperatureUnit:re,onTemperatureUnitChange:ne,theme:t,viewMode:g,location:le,savedLocations:de,onLocationChange:ce}){var S;const[l,y]=x.useState(0),[p,C]=x.useState(g==="surfer"),[$,K]=x.useState(null),u=x.useRef(null);x.useEffect(()=>{var s;if(!p&&u.current&&((s=a==null?void 0:a.hours)!=null&&s.length)){const i=setTimeout(()=>{var n;const r=(n=u.current)==null?void 0:n.querySelector('[data-current-hour="true"]');r&&r.scrollIntoView({behavior:"smooth",block:"center"})},100);return()=>clearTimeout(i)}},[p,a,m,l]);const o=x.useMemo(()=>{var i;if(!((i=a==null?void 0:a.hours)!=null&&i.length))return[];const s=new Map;return a.hours.forEach(r=>{const n=N(r.time,a.timezone);s.has(n)||s.set(n,{label:n,date:new Date(r.time),hours:a.hours.filter(d=>N(d.time,a.timezone)===n)})}),Array.from(s.values()).slice(0,7)},[a]),j=x.useMemo(()=>{var s;if(!((s=a==null?void 0:a.hours)!=null&&s.length))return[];if(l>0&&o[l-1])return o[l-1].hours;{const i=m==="6h"?6:m==="24h"?24:168;return a.hours.slice(0,i)}},[a,m,l,o]),R=(s,i)=>i?t==="dark"?"bg-gradient-to-r from-blue-900/60 to-cyan-900/40":"bg-gradient-to-r from-blue-50/80 to-cyan-50/60":s%2===0?t==="dark"?"bg-slate-800/40":"bg-white/80":t==="dark"?"bg-slate-900/40":"bg-slate-50/80",U=s=>s?t==="dark"?"border-blue-500/60":"border-blue-400/60":t==="dark"?"border-slate-700/50":"border-slate-200/70",G=(s,i)=>s?"text-blue-500 font-bold":i?t==="dark"?"text-blue-400":"text-blue-600":t==="dark"?"text-slate-300":"text-slate-700",E=s=>s<10?"text-blue-500":s<15?"text-cyan-500":s<20?"text-emerald-500":s<25?"text-yellow-500":s<30?"text-orange-500":"text-red-500",h=s=>s<10?"text-blue-500":s<20?"text-green-500":s<30?"text-yellow-500":"text-red-500",v=s=>!s||s<.5?"text-blue-500":s<1?"text-emerald-500":s<1.5?"text-yellow-500":s<2?"text-orange-500":"text-red-500",D=s=>s<40?"text-blue-500":s<60?"text-green-500":s<80?"text-yellow-500":"text-orange-500",A=s=>{if(s.precipitationProbabilityPct&&s.precipitationProbabilityPct>50)return"ðŸŒ§ï¸";if(s.precipitationProbabilityPct&&s.precipitationProbabilityPct>30)return"ðŸŒ¦ï¸";if(s.cloudCoverPct>70)return"â˜ï¸";if(s.cloudCoverPct>30)return"â›…";const i=new Date(s.time).getHours();return i>=18||i<=6?"ðŸŒ™":"â˜€ï¸"},I=s=>{const r=new Date(s).getUTCHours(),n=12.42,d=r%n/n*2*Math.PI;return 1.1+.9*Math.sin(d-Math.PI/2)},F=s=>{const r=new Date(s).getUTCHours(),n=12.42,d=r%n/n*2*Math.PI,c=d+.1,b=Math.sin(d-Math.PI/2);return Math.sin(c-Math.PI/2)>b?"Rising":"Falling"},P=s=>s<.5?"text-blue-500":s<1?"text-emerald-500":s<1.5?"text-yellow-500":"text-orange-500",T=s=>{K($===s?null:s)};return a?e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide ${t==="dark"?"text-blue-400":"text-blue-600"}`,children:"Hourly Forecast"}),e.jsx("p",{className:`text-sm ${t==="dark"?"text-slate-400":"text-slate-500"}`,children:l>0&&o[l-1]?e.jsxs(e.Fragment,{children:["Selected: ",o[l-1].label]}):m==="6h"?"Next 6 hours":m==="24h"?"Next 24 hours":"Next 7 days"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>C(!1),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1.5 ${p?t==="dark"?"bg-slate-700 text-slate-300":"bg-slate-200 text-slate-700":t==="dark"?"bg-blue-600 text-white":"bg-blue-500 text-white"}`,children:[e.jsx(L,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Table"})]}),e.jsxs("button",{onClick:()=>C(!0),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1.5 ${p?t==="dark"?"bg-blue-600 text-white":"bg-blue-500 text-white":t==="dark"?"bg-slate-700 text-slate-300":"bg-slate-200 text-slate-700"}`,children:[e.jsx(B,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Graphs"})]})]})]}),o.length>1&&e.jsxs("div",{className:`inline-flex flex-wrap rounded-xl border p-1 gap-1 mb-4 ${t==="dark"?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"}`,children:[e.jsx("button",{onClick:()=>y(0),className:`rounded-lg px-3 py-2 text-sm font-medium transition-colors ${l===0?t==="dark"?"bg-blue-600 text-white":"bg-blue-500 text-white":t==="dark"?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,children:"All"}),o.map((s,i)=>e.jsx("button",{onClick:()=>y(i+1),className:`rounded-lg px-3 py-2 text-sm font-medium transition-colors ${l===i+1?t==="dark"?"bg-blue-600 text-white":"bg-blue-500 text-white":t==="dark"?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,children:s.label.split(" ")[0]},i))]}),p?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:`overflow-hidden rounded-2xl border ${t==="dark"?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} p-4`,children:[e.jsxs("h3",{className:`text-lg font-semibold mb-4 ${t==="dark"?"text-slate-100":"text-slate-900"}`,children:["Wind Speed (",f,")"]}),e.jsx(J,{width:"100%",height:300,children:e.jsxs(Q,{data:j.map(s=>{let i=s.windSpeed10mKmh;return f==="kts"?i=i/1.852:f==="mps"&&(i=i/3.6),{time:w(s.time,(a==null?void 0:a.timezone)||"UTC"),windSpeed:Math.round(i),isCurrentHour:Math.abs(new Date(s.time).getTime()-Date.now())<30*60*1e3}}),children:[e.jsx(Z,{strokeDasharray:"3 3",stroke:t==="dark"?"#475569":"#e2e8f0"}),e.jsx(_,{dataKey:"time",stroke:t==="dark"?"#94a3b8":"#64748b",tick:{fill:t==="dark"?"#94a3b8":"#64748b",fontSize:12}}),e.jsx(ee,{stroke:t==="dark"?"#94a3b8":"#64748b",tick:{fill:t==="dark"?"#94a3b8":"#64748b",fontSize:12}}),e.jsx(se,{contentStyle:{backgroundColor:t==="dark"?"#1e293b":"#ffffff",border:`1px solid ${t==="dark"?"#475569":"#e2e8f0"}`,borderRadius:"8px"},formatter:s=>[`${Math.round(s)} ${f}`,"Wind Speed"]}),e.jsx(te,{type:"monotone",dataKey:"windSpeed",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,strokeWidth:2}),j.some(s=>Math.abs(new Date(s.time).getTime()-Date.now())<30*60*1e3)&&e.jsx(ae,{x:((S=j.find(s=>Math.abs(new Date(s.time).getTime()-Date.now())<30*60*1e3))==null?void 0:S.time)&&w(j.find(s=>Math.abs(new Date(s.time).getTime()-Date.now())<30*60*1e3).time,(a==null?void 0:a.timezone)||"UTC"),stroke:"#3b82f6",strokeWidth:2,strokeDasharray:"5 5",label:"Now"})]})})]})}):e.jsx("div",{className:`rounded-2xl border ${t==="dark"?"border-slate-700 bg-slate-800/50":"border-slate-200 bg-white/80"} overflow-hidden`,children:e.jsx("div",{className:"max-h-[600px] overflow-y-auto",ref:u,children:j.map((s,i)=>{var b;const r=Math.abs(new Date(s.time).getTime()-Date.now())<18e5,n=new Date(s.time).toDateString()===new Date().toDateString(),d=$===s.time,c=I(s.time);return e.jsx("div",{"data-current-hour":r,className:`border-b ${U(r)} transition-all duration-200 ${r?"shadow-lg shadow-blue-500/20":""}`,children:e.jsxs("div",{className:`p-3 sm:p-4 ${R(i,r)} cursor-pointer transition-all duration-200 hover:brightness-105`,onClick:()=>T(s.time),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:A(s)}),e.jsxs("div",{children:[e.jsxs("div",{className:`text-sm font-medium ${G(r,n)}`,children:[w(s.time,(a==null?void 0:a.timezone)||"UTC"),r&&e.jsx("span",{className:"ml-2 inline-flex items-center rounded-full bg-blue-500 px-2 py-0.5 text-xs text-white",children:"Now"})]}),e.jsx("div",{className:`text-xs ${t==="dark"?"text-slate-400":"text-slate-600"}`,children:N(s.time,(a==null?void 0:a.timezone)||"UTC").split(" ")[0]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-lg font-bold ${E(s.temperatureC)}`,children:[Math.round(s.temperatureC),"Â°"]}),e.jsxs("div",{className:`text-xs ${t==="dark"?"text-slate-400":"text-slate-500"}`,children:["Feels ",Math.round(s.temperatureC-(s.windSpeed10mKmh>10?2:0)),"Â°"]})]}),e.jsx("button",{className:`p-1 rounded-lg transition-colors ${t==="dark"?"hover:bg-slate-700":"hover:bg-slate-200"}`,onClick:M=>{M.stopPropagation(),T(s.time)},children:d?e.jsx(V,{size:18}):e.jsx(X,{size:18})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-1.5 rounded-lg ${t==="dark"?"bg-slate-700/50":"bg-blue-50"}`,children:e.jsx(z,{size:14,className:h(s.windSpeed10mKmh)})}),e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${h(s.windSpeed10mKmh)}`,children:H(s.windSpeed10mKmh,f)}),e.jsx("div",{className:`text-xs ${t==="dark"?"text-slate-400":"text-slate-600"}`,children:k(s.windDirection10mDeg)})]})]}),(g==="surfer"||g==="everything")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-1.5 rounded-lg ${t==="dark"?"bg-slate-700/50":"bg-emerald-50"}`,children:e.jsx(W,{size:14,className:v(s.waveHeightM)})}),e.jsxs("div",{children:[e.jsxs("div",{className:`text-sm font-medium ${v(s.waveHeightM)}`,children:[((b=s.waveHeightM)==null?void 0:b.toFixed(1))||"â€”","m"]}),e.jsx("div",{className:`text-xs ${t==="dark"?"text-slate-400":"text-slate-600"}`,children:s.wavePeriodS?`${Math.round(s.wavePeriodS)}s`:"â€”"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-1.5 rounded-lg ${t==="dark"?"bg-slate-700/50":"bg-cyan-50"}`,children:e.jsx(Y,{size:14,className:D(s.humidityPct)})}),e.jsxs("div",{children:[e.jsxs("div",{className:`text-sm font-medium ${D(s.humidityPct)}`,children:[Math.round(s.humidityPct),"%"]}),e.jsx("div",{className:`text-xs ${t==="dark"?"text-slate-400":"text-slate-600"}`,children:"Humidity"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-1.5 rounded-lg ${t==="dark"?"bg-slate-700/50":"bg-violet-50"}`,children:e.jsx("div",{className:`text-sm ${P(c)}`,children:c<1?"ðŸ“‰":c>1.5?"ðŸ“ˆ":"â†”ï¸"})}),e.jsxs("div",{children:[e.jsxs("div",{className:`text-sm font-medium ${P(c)}`,children:[c.toFixed(1),"m"]}),e.jsx("div",{className:`text-xs ${t==="dark"?"text-slate-400":"text-slate-600"}`,children:F(s.time)})]})]})]}),d&&e.jsx("div",{className:"mt-4 pt-4 border-t border-dashed border-gray-400/30",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:`p-3 rounded-xl ${t==="dark"?"bg-slate-700/50":"bg-slate-100/70"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(q,{size:14,className:t==="dark"?"text-slate-400":"text-slate-600"}),e.jsx("div",{className:"text-xs font-medium",children:"Conditions"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Cloud Cover"}),e.jsxs("span",{className:"font-medium",children:[Math.round(s.cloudCoverPct),"%"]})]}),s.precipitationProbabilityPct&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Rain Chance"}),e.jsxs("span",{className:`font-medium ${s.precipitationProbabilityPct>50?"text-blue-500":s.precipitationProbabilityPct>30?"text-cyan-500":"text-slate-500"}`,children:[Math.round(s.precipitationProbabilityPct),"%"]})]})]})]}),e.jsxs("div",{className:`p-3 rounded-xl ${t==="dark"?"bg-slate-700/50":"bg-blue-50/70"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(z,{size:14,className:h(s.windSpeed10mKmh)}),e.jsx("div",{className:"text-xs font-medium",children:"Wind Details"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Direction"}),e.jsx("span",{className:"font-medium",children:k(s.windDirection10mDeg)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Gusts"}),e.jsx("span",{className:"font-medium",children:s.windGusts10mKmh?H(s.windGusts10mKmh,f):"â€”"})]})]})]}),e.jsxs("div",{className:`p-3 rounded-xl ${t==="dark"?"bg-slate-700/50":"bg-emerald-50/70"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(O,{size:14,className:t==="dark"?"text-slate-400":"text-slate-600"}),e.jsx("div",{className:"text-xs font-medium",children:"More Data"})]}),e.jsxs("div",{className:"space-y-1",children:[s.pressureMslHpa&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Pressure"}),e.jsxs("span",{className:"font-medium",children:[Math.round(s.pressureMslHpa)," hPa"]})]}),s.visibilityM&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Visibility"}),e.jsxs("span",{className:"font-medium",children:[(s.visibilityM/1e3).toFixed(1)," km"]})]}),s.waterTempC&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Water Temp"}),e.jsxs("span",{className:"font-medium",children:[s.waterTempC.toFixed(1),"Â°C"]})]})]})]}),(g==="surfer"||g==="everything")&&s.waveHeightM&&e.jsxs("div",{className:`p-3 rounded-xl ${t==="dark"?"bg-slate-700/50":"bg-amber-50/70"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{size:14,className:v(s.waveHeightM)}),e.jsx("div",{className:"text-xs font-medium",children:"Wave Details"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Height"}),e.jsxs("span",{className:"font-medium",children:[s.waveHeightM.toFixed(1)," m"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Period"}),e.jsx("span",{className:"font-medium",children:s.wavePeriodS?`${Math.round(s.wavePeriodS)}s`:"â€”"})]}),s.waveDirectionDeg&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Direction"}),e.jsx("span",{className:"font-medium",children:k(s.waveDirectionDeg)})]})]})]})]})})]})},s.time)})})})]}):null}export{ge as HourlyForecast};
